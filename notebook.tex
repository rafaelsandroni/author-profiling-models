
% Default to the notebook output style

    


% Inherit from the specified cell style.




    
\documentclass[11pt]{article}

    
    
    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    

    
    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{baseline1-tfidf-lr}
    
    
    

    % Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}



    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

    \begin{document}
    
    
    \maketitle
    
    

    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
        \PY{k+kn}{import} \PY{n+nn}{warnings}
        \PY{n}{warnings}\PY{o}{.}\PY{n}{filterwarnings}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ignore}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{o}{\PYZpc{}}\PY{k}{matplotlib} inline
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{k+kn}{from} \PY{n+nn}{utils}\PY{n+nn}{.}\PY{n+nn}{grid\PYZus{}baseline1} \PY{k}{import} \PY{n}{run}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
/usr/local/lib/python3.5/dist-packages/sklearn/cross\_validation.py:41: DeprecationWarning: This module was deprecated in version 0.18 in favor of the model\_selection module into which all the refactored classes and functions are moved. Also note that the interface of the new CV iterators are different from that of this module. This module will be removed in 0.20.
  "This module will be removed in 0.20.", DeprecationWarning)
/usr/local/lib/python3.5/dist-packages/sklearn/learning\_curve.py:22: DeprecationWarning: This module was deprecated in version 0.18 in favor of the model\_selection module into which all the functions are moved. This module will be removed in 0.20
  DeprecationWarning)

    \end{Verbatim}

    \subsection{Relig}\label{relig}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{n}{run}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{relig}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
b5post
training (816, 3)
test (204, 3)
training after cleaning (359, 3)
test after cleaning (82, 3)
>> classifying
Performing grid search{\ldots}
pipeline: ['vect', 'tfidf', 'clf']
done in 255.405s

Best score: 0.607
Best parameters set:
	clf\_\_C: 2500.0000750000004
	clf\_\_penalty: 'l2'
	tfidf\_\_use\_idf: True
	vect\_\_max\_df: 0.75
	vect\_\_max\_features: None


             precision    recall  f1-score   support

          0       0.62      0.88      0.73        42
          1       0.00      0.00      0.00        21
          2       0.47      0.42      0.44        19

avg / total       0.42      0.55      0.47        82

>> accuracy 0.5487804878048781
>> f1\_score 0.47457356926510447
[[37  3  2]
 [14  0  7]
 [ 9  2  8]]
(82, 3) (82, 3)

    \end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_3_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_3_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]


+ ------------------------------------------------------------ +

brmoral
training (325, 3)
test (82, 3)
training after cleaning (246, 3)
test after cleaning (60, 3)
>> classifying
Performing grid search{\ldots}
pipeline: ['vect', 'tfidf', 'clf']
done in 36.412s

Best score: 0.569
Best parameters set:
	clf\_\_C: 0.0001
	clf\_\_penalty: 'l1'
	tfidf\_\_use\_idf: True
	vect\_\_max\_df: 0.75
	vect\_\_max\_features: None


             precision    recall  f1-score   support

          0       0.55      1.00      0.71        33
          1       0.00      0.00      0.00        25
          2       0.00      0.00      0.00         2

avg / total       0.30      0.55      0.39        60

>> accuracy 0.55
>> f1\_score 0.39032258064516134
[[33  0  0]
 [25  0  0]
 [ 2  0  0]]
(60, 3) (60, 3)

    \end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_3_4.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_3_5.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]


+ ------------------------------------------------------------ +


    \end{Verbatim}

    \subsection{TI}\label{ti}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{n}{run}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TI}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
b5post
training (816, 3)
test (204, 3)
training after cleaning (816, 3)
test after cleaning (204, 3)
>> classifying
Performing grid search{\ldots}
pipeline: ['vect', 'tfidf', 'clf']

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]

        ---------------------------------------------------------------------------

        ValueError                                Traceback (most recent call last)

        <ipython-input-4-f02a5273d76e> in <module>()
    ----> 1 run('TI')
    

        \textasciitilde{}/drive/Models/utils/grid\_baseline1.py in run(task)
        188         y\_test, n\_classes = labelEncoder(df\_test['label'].values)
        189 
    --> 190         (acc, f1, cm) = grid(X\_train, X\_test, y\_train, y\_test, n\_classes)
        191         print()
        192 


        \textasciitilde{}/drive/Models/utils/grid\_baseline1.py in grid(X\_train, X\_test, y\_train, y\_test, n\_classes)
        103     t0 = time()
        104 
    --> 105     grid\_search.fit(X\_train, y\_train)
        106     print("done in \%0.3fs" \% (time() - t0))
        107     print()


        /usr/local/lib/python3.5/dist-packages/sklearn/model\_selection/\_search.py in fit(self, X, y, groups, **fit\_params)
        636                                   error\_score=self.error\_score)
        637           for parameters, (train, test) in product(candidate\_params,
    --> 638                                                    cv.split(X, y, groups)))
        639 
        640         \# if one choose to see train score, "out" will contain train score info


        /usr/local/lib/python3.5/dist-packages/sklearn/model\_selection/\_split.py in split(self, X, y, groups)
        330                                                              n\_samples))
        331 
    --> 332         for train, test in super(\_BaseKFold, self).split(X, y, groups):
        333             yield train, test
        334 


        /usr/local/lib/python3.5/dist-packages/sklearn/model\_selection/\_split.py in split(self, X, y, groups)
         93         X, y, groups = indexable(X, y, groups)
         94         indices = np.arange(\_num\_samples(X))
    ---> 95         for test\_index in self.\_iter\_test\_masks(X, y, groups):
         96             train\_index = indices[np.logical\_not(test\_index)]
         97             test\_index = indices[test\_index]


        /usr/local/lib/python3.5/dist-packages/sklearn/model\_selection/\_split.py in \_iter\_test\_masks(self, X, y, groups)
        624 
        625     def \_iter\_test\_masks(self, X, y=None, groups=None):
    --> 626         test\_folds = self.\_make\_test\_folds(X, y)
        627         for i in range(self.n\_splits):
        628             yield test\_folds == i


        /usr/local/lib/python3.5/dist-packages/sklearn/model\_selection/\_split.py in \_make\_test\_folds(self, X, y)
        589             raise ValueError("n\_splits=\%d cannot be greater than the"
        590                              " number of members in each class."
    --> 591                              \% (self.n\_splits))
        592         if self.n\_splits > min\_groups:
        593             warnings.warn(("The least populated class in y has only \%d"


        ValueError: n\_splits=3 cannot be greater than the number of members in each class.

    \end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_5_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \subsection{Education}\label{education}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{n}{run}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{education}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
esic
training (103453, 3)
test (25864, 3)
training after cleaning (95516, 3)
test after cleaning (23879, 3)
>> classifying
Performing grid search{\ldots}
pipeline: ['vect', 'tfidf', 'clf']
done in 21742.977s

Best score: 0.451
Best parameters set:
	clf\_\_C: 2500.0000750000004
	clf\_\_penalty: 'l2'
	tfidf\_\_use\_idf: True
	vect\_\_max\_df: 0.75
	vect\_\_max\_features: 1000


             precision    recall  f1-score   support

          0       0.25      0.01      0.01       800
          1       0.46      0.35      0.39      5313
          2       0.45      0.80      0.58      9621
          3       0.54      0.29      0.38      2996
          4       0.37      0.09      0.15      5021
          5       0.12      0.01      0.01       128

avg / total       0.44      0.45      0.40     23879

>> accuracy 0.45387160266342813
>> f1\_score 0.39888937623798726
[[   4  407  380    2    7    0]
 [   5 1839 3302   57  106    4]
 [   3 1154 7656  369  438    1]
 [   0  108 1781  870  237    0]
 [   4  446 3798  303  468    2]
 [   0   54   69    1    3    1]]
(23879, 6) (23879, 6)

    \end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_7_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_7_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]


+ ------------------------------------------------------------ +

brmoral
training (325, 3)
test (82, 3)
training after cleaning (325, 3)
test after cleaning (82, 3)
>> classifying
Performing grid search{\ldots}
pipeline: ['vect', 'tfidf', 'clf']
done in 48.597s

Best score: 0.409
Best parameters set:
	clf\_\_C: 2500.0000750000004
	clf\_\_penalty: 'l1'
	tfidf\_\_use\_idf: True
	vect\_\_max\_df: 0.9
	vect\_\_max\_features: 1000


             precision    recall  f1-score   support

          0       0.00      0.00      0.00         4
          1       0.47      0.50      0.48        28
          2       0.43      0.42      0.43        24
          3       0.43      0.46      0.44        26

avg / total       0.42      0.44      0.43        82

>> accuracy 0.43902439024390244
>> f1\_score 0.4303117425891794
[[ 0  2  1  1]
 [ 0 14  7  7]
 [ 1  5 10  8]
 [ 0  9  5 12]]
(82, 4) (82, 4)

    \end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_7_4.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_7_5.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]


+ ------------------------------------------------------------ +

brblogset
training (3464, 3)
test (867, 3)
training after cleaning (1272, 3)
test after cleaning (300, 3)
>> classifying
Performing grid search{\ldots}
pipeline: ['vect', 'tfidf', 'clf']
done in 2538.443s

Best score: 0.367
Best parameters set:
	clf\_\_C: 2500.0000750000004
	clf\_\_penalty: 'l2'
	tfidf\_\_use\_idf: True
	vect\_\_max\_df: 0.75
	vect\_\_max\_features: None


             precision    recall  f1-score   support

          0       0.00      0.00      0.00         2
          1       0.46      0.30      0.36        54
          2       0.44      0.58      0.50        92
          3       0.33      0.29      0.30        91
          4       0.30      0.30      0.30        61

avg / total       0.38      0.38      0.37       300

>> accuracy 0.37666666666666665
>> f1\_score 0.3695742750521571
[[ 0  0  0  0  2]
 [ 2 16  9 18  9]
 [ 0  5 53 22 12]
 [ 0  9 36 26 20]
 [ 1  5 23 14 18]]
(300, 5) (300, 5)

    \end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_7_7.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_7_8.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]


+ ------------------------------------------------------------ +


    \end{Verbatim}

    \subsection{Region}\label{region}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{n}{run}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{region}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
esic
training (103453, 3)
test (25864, 3)
training after cleaning (96552, 3)
test after cleaning (24069, 3)
>> classifying
Performing grid search{\ldots}
pipeline: ['vect', 'tfidf', 'clf']
done in 14378.520s

Best score: 0.582
Best parameters set:
	clf\_\_C: 2500.0000750000004
	clf\_\_penalty: 'l2'
	tfidf\_\_use\_idf: True
	vect\_\_max\_df: 0.75
	vect\_\_max\_features: 3000


             precision    recall  f1-score   support

          0       0.55      0.33      0.41      3782
          1       0.61      0.27      0.38      1486
          2       0.65      0.43      0.52      4411
          3       0.61      0.24      0.35      3142
          4       0.58      0.88      0.70     11248

avg / total       0.60      0.59      0.56     24069

>> accuracy 0.591840126303544
>> f1\_score 0.5573556861409656
[[1233   63  255   95 2136]
 [ 117  408  154   34  773]
 [ 214   60 1917   94 2126]
 [ 173   33  146  764 2026]
 [ 487  103  479  256 9923]]
(24069, 5) (24069, 5)

    \end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_9_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_9_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]


+ ------------------------------------------------------------ +


    \end{Verbatim}

    \subsection{Polit}\label{polit}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{n}{run}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{polit}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
brmoral
training (325, 3)
test (82, 3)
training after cleaning (325, 3)
test after cleaning (82, 3)
>> classifying
Performing grid search{\ldots}
pipeline: ['vect', 'tfidf', 'clf']
done in 49.459s

Best score: 0.468
Best parameters set:
	clf\_\_C: 10000.0
	clf\_\_penalty: 'l2'
	tfidf\_\_use\_idf: True
	vect\_\_max\_df: 1.0
	vect\_\_max\_features: None


             precision    recall  f1-score   support

          0       0.00      0.00      0.00         8
          1       0.36      0.29      0.32        28
          2       0.36      0.48      0.41        31
          3       0.25      0.33      0.29        12
          4       0.00      0.00      0.00         3

avg / total       0.30      0.33      0.31        82

>> accuracy 0.32926829268292684
>> f1\_score 0.3064426519020572
[[ 0  4  3  1  0]
 [ 2  8 15  3  0]
 [ 0  8 15  8  0]
 [ 0  2  6  4  0]
 [ 0  0  3  0  0]]
(82, 5) (82, 5)

    \end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_11_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_11_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]


+ ------------------------------------------------------------ +


    \end{Verbatim}

    \subsection{Professional}\label{professional}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} \PY{n}{run}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{professional}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
esic
training (103453, 3)
test (25864, 3)
training after cleaning (90587, 3)
test after cleaning (22701, 3)
>> classifying
Performing grid search{\ldots}
pipeline: ['vect', 'tfidf', 'clf']
done in 21004.168s

Best score: 0.309
Best parameters set:
	clf\_\_C: 2500.0000750000004
	clf\_\_penalty: 'l2'
	tfidf\_\_use\_idf: True
	vect\_\_max\_df: 0.75
	vect\_\_max\_features: 1000


             precision    recall  f1-score   support

          0       0.30      0.32      0.31      3624
          1       0.24      0.03      0.06      1179
          2       0.36      0.44      0.40      3357
          3       0.37      0.25      0.30       438
          4       0.00      0.00      0.00        14
          5       0.02      0.01      0.02        69
          6       0.00      0.00      0.00        23
          7       0.30      0.54      0.38      4409
          8       0.27      0.14      0.18       829
          9       0.30      0.12      0.17      1317
         10       0.20      0.06      0.09      1675
         11       0.02      0.03      0.02        31
         12       0.22      0.05      0.08      1341
         13       0.39      0.48      0.43      3191
         14       0.35      0.12      0.18      1204

avg / total       0.31      0.32      0.29     22701

>> accuracy 0.3203383110876173
>> f1\_score 0.28884743362556786
[[1160   25  435   20    1    6    7 1424   34   29   63    7   32  342
    39]
 [ 343   40  117    5    2    2    2  501   12    4   31    3   13   91
    13]
 [ 400   14 1473   56    8    6    3  684   93   60   52    6   25  431
    46]
 [  48    2  114  110    1    1    2   64    7    6    9    2    6   59
     7]
 [   3    0    4    1    0    0    0    4    0    1    0    0    0    1
     0]
 [   6    1   20    3    0    1    1   15    2    1    1    1    1   14
     2]
 [   4    0    4    1    1    0    0    4    0    0    0    1    1    2
     5]
 [ 789   21  432   16    5    2   10 2369   17   38  105   16   38  502
    49]
 [  89    3  291   19    2    4    1   84  113   48   11    0   10  140
    14]
 [ 129    6  254    9    2    5    8  424   45  153   11    2   27  212
    30]
 [ 314   22  164   18    0    6    4  738   16    9   99    9   19  231
    26]
 [   4    0    4    1    0    0    1   10    0    1    4    1    0    2
     3]
 [ 190   11  195    8    1    2    2  528   18   34   32    2   63  242
    13]
 [ 315   14  384   27    2    5    4  631   54   96   48    7   39 1543
    22]
 [ 136    9  177    4    2    1    8  485    7   28   18    5   14  163
   147]]
(22701, 15) (22701, 15)

    \end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_13_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_13_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]


+ ------------------------------------------------------------ +


    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{n}{run}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{gender}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
b5post
training (816, 3)
test (204, 3)
training after cleaning (815, 3)
test after cleaning (204, 3)
>> classifying
Performing grid search{\ldots}
pipeline: ['vect', 'tfidf', 'clf']
done in 551.917s

Best score: 0.879
Best parameters set:
	clf\_\_C: 2500.0000750000004
	clf\_\_penalty: 'l1'
	tfidf\_\_use\_idf: True
	vect\_\_max\_df: 1.0
	vect\_\_max\_features: 3000


             precision    recall  f1-score   support

          0       0.88      0.88      0.88       116
          1       0.84      0.84      0.84        88

avg / total       0.86      0.86      0.86       204

>> accuracy 0.8627450980392157
>> f1\_score 0.8627450980392157
[[102  14]
 [ 14  74]]
(204, 1) (204,)

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]

        ---------------------------------------------------------------------------

        IndexError                                Traceback (most recent call last)

        <ipython-input-10-f020bc798d8d> in <module>()
    ----> 1 run('gender')
    

        \textasciitilde{}/drive/Models/utils/grid\_baseline1.py in run(task)
        188         y\_test, n\_classes = labelEncoder(df\_test['label'].values)
        189 
    --> 190         (acc, f1, cm) = grid(X\_train, X\_test, y\_train, y\_test, n\_classes)
        191         print()
        192 


        \textasciitilde{}/drive/Models/utils/grid\_baseline1.py in grid(X\_train, X\_test, y\_train, y\_test, n\_classes)
        131 
        132     \# plot curve ROC
    --> 133     roc(y\_test, y\_score, n\_classes)
        134 
        135     \#return result\_table


        \textasciitilde{}/drive/Models/utils/grid\_baseline1.py in roc(y\_test, y\_score, n\_classes)
         45     for i in range(n\_classes):
         46         \# fpr[i], tpr[i], \_ = roc\_curve(y\_test, y\_score, pos\_label=1)
    ---> 47         fpr[i], tpr[i], \_ = roc\_curve(y\_test[:, i], y\_score[:, i])
         48         roc\_auc[i] = auc(fpr[i], tpr[i])
         49 


        IndexError: too many indices for array

    \end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_14_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n}{run}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}



    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
