
/usr/local/lib/python3.5/dist-packages/sklearn/cross_validation.py:41: DeprecationWarning: This module was deprecated in version 0.18 in favor of the model_selection module into which all the refactored classes and functions are moved. Also note that the interface of the new CV iterators are different from that of this module. This module will be removed in 0.20.
  "This module will be removed in 0.20.", DeprecationWarning)
/usr/local/lib/python3.5/dist-packages/sklearn/learning_curve.py:22: DeprecationWarning: This module was deprecated in version 0.18 in favor of the model_selection module into which all the functions are moved. This module will be removed in 0.20
  DeprecationWarning)
GENDER
b5post
training (816, 3)
test (204, 3)
training after cleaning (815, 3)
test after cleaning (204, 3)
>> classifying
Performing grid search...
pipeline: ['vect', 'tfidf', 'clf']
done in 582.254s

Best score: 0.881
Best parameters set:
	clf__C: 2500.0000750000004
	clf__penalty: 'l1'
	tfidf__use_idf: True
	vect__max_df: 0.9
	vect__max_features: 3000


             precision    recall  f1-score   support

          0       0.90      0.88      0.89       116
          1       0.85      0.88      0.86        88

avg / total       0.88      0.88      0.88       204

>> accuracy 0.8774509803921569
>> f1_score 0.8776752046479834
[[102  14]
 [ 11  77]]
(204, 1) (204,)
Error plotting ROC curve


+ ------------------------------------------------------------ +

esic
training (103453, 3)
test (25864, 3)
training after cleaning (97490, 3)
test after cleaning (24344, 3)
>> classifying
Performing grid search...
pipeline: ['vect', 'tfidf', 'clf']
done in 11031.909s

Best score: 0.699
Best parameters set:
	clf__C: 2500.0000750000004
	clf__penalty: 'l2'
	tfidf__use_idf: True
	vect__max_df: 0.75
	vect__max_features: 3000


             precision    recall  f1-score   support

          0       0.69      0.52      0.59     10054
          1       0.71      0.83      0.77     14290

avg / total       0.70      0.70      0.70     24344

>> accuracy 0.7039927702924745
>> f1_score 0.6952461755336742
[[ 5236  4818]
 [ 2388 11902]]
(24344, 1) (24344,)
Error plotting ROC curve


+ ------------------------------------------------------------ +

brmoral
training (325, 3)
test (82, 3)
training after cleaning (325, 3)
test after cleaning (82, 3)
>> classifying
Performing grid search...
pipeline: ['vect', 'tfidf', 'clf']
done in 45.598s

Best score: 0.711
Best parameters set:
	clf__C: 10000.0
	clf__penalty: 'l2'
	tfidf__use_idf: True
	vect__max_df: 0.9
	vect__max_features: 1000


             precision    recall  f1-score   support

          0       0.46      0.54      0.50        24
          1       0.80      0.74      0.77        58

avg / total       0.70      0.68      0.69        82

>> accuracy 0.6829268292682927
>> f1_score 0.6894599303135889
[[13 11]
 [15 43]]
(82, 1) (82,)
Error plotting ROC curve


+ ------------------------------------------------------------ +

enblogs
training (15456, 3)
test (3864, 3)
training after cleaning (15456, 3)
test after cleaning (3864, 3)
>> classifying
Performing grid search...
pipeline: ['vect', 'tfidf', 'clf']
done in 54399.109s

Best score: 0.805
Best parameters set:
	clf__C: 2500.0000750000004
	clf__penalty: 'l2'
	tfidf__use_idf: True
	vect__max_df: 1.0
	vect__max_features: None


             precision    recall  f1-score   support

          0       0.81      0.81      0.81      1978
          1       0.80      0.81      0.80      1886

avg / total       0.81      0.81      0.81      3864

>> accuracy 0.8074534161490683
>> f1_score 0.8074691039908477
[[1598  380]
 [ 364 1522]]
(3864, 1) (3864,)
Error plotting ROC curve


+ ------------------------------------------------------------ +

brblogset
training (3464, 3)
test (867, 3)
training after cleaning (2086, 3)
test after cleaning (516, 3)
>> classifying
Performing grid search...
pipeline: ['vect', 'tfidf', 'clf']
done in 4625.161s

Best score: 0.783
Best parameters set:
	clf__C: 2500.0000750000004
	clf__penalty: 'l2'
	tfidf__use_idf: True
	vect__max_df: 0.9
	vect__max_features: None


             precision    recall  f1-score   support

          0       0.76      0.70      0.73       206
          1       0.81      0.85      0.83       310

avg / total       0.79      0.79      0.79       516

>> accuracy 0.7906976744186046
>> f1_score 0.7891020782639914
[[144  62]
 [ 46 264]]
(516, 1) (516,)
Error plotting ROC curve


+ ------------------------------------------------------------ +

pan13
training (236600, 3)
test (21200, 3)
training after cleaning (236600, 3)
test after cleaning (21200, 3)
>> classifying
Performing grid search...
pipeline: ['vect', 'tfidf', 'clf']
done in 115575.049s

Best score: 0.609
Best parameters set:
	clf__C: 2500.0000750000004
	clf__penalty: 'l2'
	tfidf__use_idf: True
	vect__max_df: 1.0
	vect__max_features: None


             precision    recall  f1-score   support

          0       0.59      0.51      0.55     10600
          1       0.57      0.65      0.61     10600

avg / total       0.58      0.58      0.58     21200

>> accuracy 0.5809433962264151
>> f1_score 0.578800903821346
[[5402 5198]
 [3686 6914]]
(21200, 1) (21200,)
Error plotting ROC curve


+ ------------------------------------------------------------ +

AGE
b5post
training (816, 3)
test (204, 3)
training after cleaning (816, 3)
test after cleaning (204, 3)
>> classifying
Performing grid search...
pipeline: ['vect', 'tfidf', 'clf']
Traceback (most recent call last):
  File "baseline1-tfidf-lr.py", line 25, in <module>
    run('age')
  File "/home/rafael/drive/Models/utils/grid_baseline1.py", line 194, in run
    (acc, f1, cm) = grid(X_train, X_test, y_train, y_test, n_classes)
  File "/home/rafael/drive/Models/utils/grid_baseline1.py", line 105, in grid
    grid_search.fit(X_train, y_train)
  File "/usr/local/lib/python3.5/dist-packages/sklearn/model_selection/_search.py", line 638, in fit
    cv.split(X, y, groups)))
  File "/usr/local/lib/python3.5/dist-packages/sklearn/model_selection/_split.py", line 332, in split
    for train, test in super(_BaseKFold, self).split(X, y, groups):
  File "/usr/local/lib/python3.5/dist-packages/sklearn/model_selection/_split.py", line 95, in split
    for test_index in self._iter_test_masks(X, y, groups):
  File "/usr/local/lib/python3.5/dist-packages/sklearn/model_selection/_split.py", line 626, in _iter_test_masks
    test_folds = self._make_test_folds(X, y)
  File "/usr/local/lib/python3.5/dist-packages/sklearn/model_selection/_split.py", line 591, in _make_test_folds
    % (self.n_splits))
ValueError: n_splits=3 cannot be greater than the number of members in each class.
